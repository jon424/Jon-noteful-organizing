{"ast":null,"code":"import _classCallCheck from \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/src/App/App.js\";\nimport React, { Component } from \"react\";\nimport HomePage from \"./components/HomePage\";\nimport NotFound from \"./components/NotFound\";\nimport NoteView from \"./components/NoteView\";\nimport FolderView from \"./components/FolderView\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport Context from \"./Context\";\nimport \"./App.css\";\nexport var App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.fetchNotes = function (url, _ref) {\n      var method = _ref.method;\n      return fetch(url, {\n        method: method\n      }).then(function (response) {\n        if (!response.ok) {\n          console.log(\"An error occured\");\n          throw new Error(\"This is a problem\");\n        }\n\n        return response;\n      }).then(function (response) {\n        return response.json();\n      }).catch(function (err) {\n        console.log(\"Handling error\", err);\n      });\n    };\n\n    _this.fetchFolders = function (url, _ref2) {\n      var method = _ref2.method;\n      return fetch(url, {\n        method: method\n      }).then(function (response) {\n        if (!response.ok) {\n          console.log(\"An error occured\");\n          throw new Error(\"This is a problem\");\n        }\n\n        return response;\n      }).then(function (response) {\n        return response.json();\n      }).catch(function (err) {\n        console.log(\"Handling error\", err);\n      });\n    };\n\n    _this.delete = function (noteId) {\n      var newUrl = \"http://localhost:9090/notes/\".concat(noteId);\n\n      var newNotes = _this.state.notes.filter(function (note) {\n        return note.id !== noteId;\n      });\n\n      _this.fetchNotes(\"\".concat(newUrl), {\n        method: \"DELETE\"\n      }).then(function () {\n        _this.setState({\n          noteId: noteId,\n          notes: newNotes\n        });\n      });\n    };\n\n    _this.state = {\n      folders: [],\n      notes: [],\n      baseFolders: \"http://localhost:9090/folders\",\n      baseNotes: \"http://localhost:9090/notes\",\n      noteId: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchFolders(this.state.baseFolders, {\n        method: \"GET\"\n      }).then(function (data) {\n        var APIfolders = data;\n\n        _this2.setState({\n          folders: APIfolders\n        });\n      });\n      this.fetchNotes(this.state.baseNotes, {\n        method: \"GET\"\n      }).then(function (data) {\n        var APInotes = data;\n\n        _this2.setState({\n          notes: APInotes\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var contextValue = {\n        folders: this.state.folders,\n        notes: this.state.notes,\n        delete: this.delete\n      };\n      return React.createElement(Context.Provider, {\n        value: contextValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Noteful\"))), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/folder/:folderId\",\n        component: FolderView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/notes/:noteId\",\n        component: NoteView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: NotFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\nexport default App;","map":{"version":3,"sources":["/Users/jonathanjackson/Documents/Jon-Organizing-Noteful/src/App/App.js"],"names":["React","Component","HomePage","NotFound","NoteView","FolderView","Route","Switch","Link","Context","App","props","fetchNotes","url","method","fetch","then","response","ok","console","log","Error","json","catch","err","fetchFolders","delete","noteId","newUrl","newNotes","state","notes","filter","note","id","setState","folders","baseFolders","baseNotes","data","APIfolders","APInotes","contextValue"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,IAAxB,QAAoC,kBAApC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,WAAP;AAEA,WAAaC,GAAb;AAAA;AAAA;AAAA;;AACE,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;;AADiB,UAWnBC,UAXmB,GAWN,UAASC,GAAT,QAA0B;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACrC,aAAOC,KAAK,CAACF,GAAD,EAAM;AAAEC,QAAAA,MAAM,EAANA;AAAF,OAAN,CAAL,CACJE,IADI,CACC,UAAAC,QAAQ,EAAI;AAChB,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,gBAAM,IAAIC,KAAJ,CAAU,mBAAV,CAAN;AACD;;AACD,eAAOJ,QAAP;AACD,OAPI,EAQJD,IARI,CAQC,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACK,IAAT,EAAJ;AAAA,OART,EASJC,KATI,CASE,UAAAC,GAAG,EAAI;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BI,GAA9B;AACD,OAXI,CAAP;AAYD,KAxBkB;;AAAA,UA0BnBC,YA1BmB,GA0BJ,UAASZ,GAAT,SAA0B;AAAA,UAAVC,MAAU,SAAVA,MAAU;AACvC,aAAOC,KAAK,CAACF,GAAD,EAAM;AAAEC,QAAAA,MAAM,EAANA;AAAF,OAAN,CAAL,CACJE,IADI,CACC,UAAAC,QAAQ,EAAI;AAChB,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,gBAAM,IAAIC,KAAJ,CAAU,mBAAV,CAAN;AACD;;AACD,eAAOJ,QAAP;AACD,OAPI,EAQJD,IARI,CAQC,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACK,IAAT,EAAJ;AAAA,OART,EASJC,KATI,CASE,UAAAC,GAAG,EAAI;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BI,GAA9B;AACD,OAXI,CAAP;AAYD,KAvCkB;;AAAA,UAoDnBE,MApDmB,GAoDV,UAAAC,MAAM,EAAI;AACjB,UAAIC,MAAM,yCAAkCD,MAAlC,CAAV;;AACA,UAAIE,QAAQ,GAAG,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,KAAYP,MAAhB;AAAA,OAA5B,CAAf;;AACA,YAAKf,UAAL,WAAmBgB,MAAnB,GAA6B;AAAEd,QAAAA,MAAM,EAAE;AAAV,OAA7B,EAAmDE,IAAnD,CAAwD,YAAM;AAC5D,cAAKmB,QAAL,CAAc;AACZR,UAAAA,MAAM,EAAEA,MADI;AAEZI,UAAAA,KAAK,EAAEF;AAFK,SAAd;AAID,OALD;AAMD,KA7DkB;;AAEjB,UAAKC,KAAL,GAAa;AACXM,MAAAA,OAAO,EAAE,EADE;AAEXL,MAAAA,KAAK,EAAE,EAFI;AAGXM,MAAAA,WAAW,EAAE,+BAHF;AAIXC,MAAAA,SAAS,EAAE,6BAJA;AAKXX,MAAAA,MAAM,EAAE;AALG,KAAb;AAFiB;AASlB;;AAVH;AAAA;AAAA,wCA0CsB;AAAA;;AAClB,WAAKF,YAAL,CAAkB,KAAKK,KAAL,CAAWO,WAA7B,EAA0C;AAAEvB,QAAAA,MAAM,EAAE;AAAV,OAA1C,EAA6DE,IAA7D,CAAkE,UAAAuB,IAAI,EAAI;AACxE,YAAMC,UAAU,GAAGD,IAAnB;;AACA,QAAA,MAAI,CAACJ,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAEI;AAAX,SAAd;AACD,OAHD;AAIA,WAAK5B,UAAL,CAAgB,KAAKkB,KAAL,CAAWQ,SAA3B,EAAsC;AAAExB,QAAAA,MAAM,EAAE;AAAV,OAAtC,EAAyDE,IAAzD,CAA8D,UAAAuB,IAAI,EAAI;AACpE,YAAME,QAAQ,GAAGF,IAAjB;;AACA,QAAA,MAAI,CAACJ,QAAL,CAAc;AAAEJ,UAAAA,KAAK,EAAEU;AAAT,SAAd;AACD,OAHD;AAID;AAnDH;AAAA;AAAA,6BAgEW;AACP,UAAMC,YAAY,GAAG;AACnBN,QAAAA,OAAO,EAAE,KAAKN,KAAL,CAAWM,OADD;AAEnBL,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAFC;AAGnBL,QAAAA,MAAM,EAAE,KAAKA;AAHM,OAArB;AAMA,aACE,oBAAC,OAAD,CAAS,QAAT;AAAkB,QAAA,KAAK,EAAEgB,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADF,CADF,EAME,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAExC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,mBAAZ;AAAgC,QAAA,SAAS,EAAEG,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAKE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,gBAAZ;AAA6B,QAAA,SAAS,EAAED,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAOE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAED,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CANF,CADF,CADF;AAoBD;AA3FH;;AAAA;AAAA,EAAyBF,SAAzB;AA8FA,eAAeS,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport HomePage from \"./components/HomePage\";\nimport NotFound from \"./components/NotFound\";\nimport NoteView from \"./components/NoteView\";\nimport FolderView from \"./components/FolderView\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport Context from \"./Context\";\nimport \"./App.css\";\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      folders: [],\n      notes: [],\n      baseFolders: \"http://localhost:9090/folders\",\n      baseNotes: \"http://localhost:9090/notes\",\n      noteId: \"\"\n    };\n  }\n\n  fetchNotes = function(url, { method }) {\n    return fetch(url, { method })\n      .then(response => {\n        if (!response.ok) {\n          console.log(\"An error occured\");\n          throw new Error(\"This is a problem\");\n        }\n        return response;\n      })\n      .then(response => response.json())\n      .catch(err => {\n        console.log(\"Handling error\", err);\n      });\n  };\n\n  fetchFolders = function(url, { method }) {\n    return fetch(url, { method })\n      .then(response => {\n        if (!response.ok) {\n          console.log(\"An error occured\");\n          throw new Error(\"This is a problem\");\n        }\n        return response;\n      })\n      .then(response => response.json())\n      .catch(err => {\n        console.log(\"Handling error\", err);\n      });\n  };\n\n  componentDidMount() {\n    this.fetchFolders(this.state.baseFolders, { method: \"GET\" }).then(data => {\n      const APIfolders = data;\n      this.setState({ folders: APIfolders });\n    });\n    this.fetchNotes(this.state.baseNotes, { method: \"GET\" }).then(data => {\n      const APInotes = data;\n      this.setState({ notes: APInotes });\n    });\n  }\n\n  delete = noteId => {\n    let newUrl = `http://localhost:9090/notes/${noteId}`;\n    let newNotes = this.state.notes.filter(note => note.id !== noteId);\n    this.fetchNotes(`${newUrl}`, { method: \"DELETE\" }).then(() => {\n      this.setState({\n        noteId: noteId,\n        notes: newNotes\n      });\n    });\n  };\n\n  render() {\n    const contextValue = {\n      folders: this.state.folders,\n      notes: this.state.notes,\n      delete: this.delete\n    };\n\n    return (\n      <Context.Provider value={contextValue}>\n        <div>\n          <header>\n            <Link to=\"/\">\n              <h2>Noteful</h2>\n            </Link>\n          </header>\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n\n            <Route path=\"/folder/:folderId\" component={FolderView} />\n\n            <Route path=\"/notes/:noteId\" component={NoteView} />\n\n            <Route component={NotFound} />\n          </Switch>\n        </div>\n      </Context.Provider>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}